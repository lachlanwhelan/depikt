{"version":3,"sources":["assets/loader.gif","Authentication.js","components/ProtectedRoute.js","components/home/navbar/Searchbar.js","components/home/navbar/LogoutBtn.js","components/home/navbar/Navbar.js","components/home/upload/UploadForm.js","components/home/upload/Upload.js","components/home/images/Images.js","components/home/profile/Profile.js","components/home/Favourites/Favourites.js","components/home/Home.js","components/Signin/Signin.js","components/Register/Register.js","App.js","index.js"],"names":["module","exports","this","authenticated","user","id","name","email","password","fetch","method","headers","body","JSON","stringify","toLowerCase","response","json","userObject","status","Promise","resolve","cb","ProtectedRoute","Component","component","rest","render","props","auth","isAuthenticated","to","pathname","state","from","location","Searchbar","handleSearch","handleChange","handleKeyPress","history","useHistory","className","action","onSubmit","e","preventDefault","type","placeholder","onChange","onKeyPress","onClick","push","icon","faSearch","size","LogoutBtn","localStorage","setItem","logout","Navbar","searchInput","event","setState","target","value","key","replace","faHome","reload","faPlus","faUser","handleMenuClick","menu","UploadForm","handleSubmit","handleFileChange","url","isValid","loading","defaultValue","hidden","accept","src","alt","required","loader","Upload","uploadFile","file","signedRequest","xhr","XMLHttpRequest","open","onreadystatechange","readyState","addImage","alert","send","getSignedRequest","parse","responseText","reader","FileReader","files","readAsDataURL","onloadend","result","tag","category","handlePageClick","Images","initialImages","filteredImages","handleOnImageClick","console","log","map","item","index","Profile","deleteImage","image","Favourites","removeImage","imageUrl","previousElementSibling","newImageList","images","filter","favouriteImages","getItem","length","class","Home","then","data","imageUploaded","setTimeout","getImages","fileName","split","message","imageAuthor","handleCancelImage","saveToFavourites","concat","exact","path","Signin","handleOnChange","handleOnLogin","login","Register","handleOnRegister","validateEmail","register","test","App","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.60500b65.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loader.9615522e.gif\";","\r\nclass Authentication {\r\n    constructor(){\r\n        this.authenticated = false;\r\n        this.user = {\r\n            id: '',\r\n            name: '',\r\n            email: ''\r\n        }\r\n    }\r\n\r\n    async register(name, email, password){\r\n        //consider try catch block\r\n        const response = await fetch('https://stark-ridge-74307.herokuapp.com/register', {\r\n            method: 'post',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                name: name.toLowerCase(),\r\n                email: email.toLowerCase(),\r\n                password: password   \r\n            })\r\n        })\r\n\r\n        const userObject = await response.json();\r\n\r\n        if(userObject.status === 200){\r\n            this.user.id = userObject.user.id;\r\n            this.user.name = userObject.user.name;\r\n            this.user.email = userObject.user.email;\r\n            this.authenticated = true;\r\n            Promise.resolve()\r\n        }else{\r\n            this.authenticated = false;\r\n        }\r\n    }\r\n\r\n    \r\n    async login(email, password){\r\n    //async method returns a promise\r\n    //when the async method returns a value, the\r\n    //promise will be resolved with the value.\r\n\r\n    //await allows us to wait for the response of an asynchronous request\r\n    //will return value only after promise is resolved\r\n    //promise has three states: pending, fullfilled + rejected\r\n        const response = await fetch('https://stark-ridge-74307.herokuapp.com/signin', {\r\n            method: 'post',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: password\r\n            })\r\n        });\r\n        const userObject = await response.json();\r\n        if (userObject.status === 200) {\r\n            this.user.id = userObject.user.id;\r\n            this.user.name = userObject.user.name;\r\n            this.user.email = userObject.user.email;\r\n            this.authenticated = true;\r\n            //Promise.resolve is a method that returns a promise object\r\n            Promise.resolve(this.user);\r\n        }\r\n        else {\r\n            this.authenticated = false;\r\n        }\r\n    }\r\n\r\n    logout(cb){\r\n        this.authenticated = false;\r\n        this.user.id = '';\r\n        this.user.name = '';\r\n        this.user.email = '';\r\n        cb()\r\n    }\r\n\r\n    isAuthenticated(){\r\n        return this.authenticated;\r\n    }\r\n}\r\n\r\nexport default new Authentication();","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport auth from '../Authentication';\r\n\r\n//home component gets passed to protected route\r\n//...rest operator gathers any number of args into an array\r\nconst ProtectedRoute = ({component: Component, ...rest}) => {\r\n    return(\r\n        <div>\r\n        {/* spread operator unpacks elements of the array {...rest} = path and component */} \r\n        <Route {...rest} render={\r\n                            (props) => {\r\n                    //check if user is authenticated first\r\n                    if(auth.isAuthenticated()){\r\n                        return <Component {...props} user={auth.user}/>\r\n                    }else{\r\n                    //if not authenticated return Redirect component with signin path\r\n                        return <Redirect to={\r\n                            {\r\n                            pathname: '/',\r\n                            state: {\r\n                                from: props.location\r\n                            }\r\n                            }\r\n                        }/>\r\n                    }\r\n                }\r\n        }/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst Searchbar = ({handleSearch, handleChange, handleKeyPress}) => {\r\n    const history = useHistory();\r\n    return(\r\n    <form className='searchGroup' action='.' onSubmit={(e) => {e.preventDefault()}}>\r\n        <input className='searchInput' type='text' name='search' id='search-thing' placeholder='search...' onChange={handleChange} onKeyPress={handleKeyPress}/>\r\n        <button className='searchButton' onClick={\r\n            () => {\r\n            handleSearch();\r\n            history.push('/home');\r\n        }}><FontAwesomeIcon icon={faSearch} size='lg'/></button>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport auth from '../../../Authentication';\r\nimport { useHistory} from 'react-router-dom';\r\nimport './Navbar.scss';\r\n\r\nconst LogoutBtn = () => {\r\n    const history = useHistory();\r\n    return(\r\n        <button className='link' onClick={() => {\r\n            localStorage.setItem('authenticated', false);\r\n            auth.logout(\r\n                () => {\r\n                    history.push('/');\r\n                }\r\n            )\r\n        }}>\r\n        Logout\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default LogoutBtn;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Searchbar from './Searchbar';\r\nimport {faHome, faPlus, faUser} from '@fortawesome/free-solid-svg-icons';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport LogoutBtn from './LogoutBtn';\r\nimport auth from '../../../Authentication';\r\nimport './Navbar.scss';\r\n\r\n\r\n\r\nclass Navbar extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = { \r\n            searchInput: ''\r\n        }\r\n    }\r\n\r\n\r\n    handleSearch = () => {\r\n        this.props.handleSearch(this.state.searchInput);\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            searchInput: event.target.value\r\n        })\r\n    }\r\n\r\n    handleKeyPress = (e) => {\r\n        if(e.key === 'Enter'){\r\n            this.props.handleSearch(this.state.searchInput);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <nav className='navbar'>\r\n                <Link className='logo' to='/home' replace><FontAwesomeIcon icon={faHome} size='lg' onClick={this.props.reload}/></Link>\r\n                <Searchbar handleSearch={this.handleSearch} handleChange={this.handleChange} handleKeyPress={this.handleKeyPress}/>\r\n                <Link className='uploadLink' to='/home/upload'><FontAwesomeIcon icon={faPlus} size='lg'/></Link>\r\n                <FontAwesomeIcon  className='profileLink' icon={faUser} size='lg' onClick={this.props.handleMenuClick}/>\r\n                <div className='user-menu' id={this.props.menu ? 'dropdown' : ''}>\r\n                <p>{`Hi ${auth.user.name}`}</p>\r\n                    <Link className='link' to='/home' onClick={this.props.reload}>Home</Link>\r\n                    <Link className='link' to='/home/profile'>Profile</Link>\r\n                    <Link className='link' to='/home/favourites'>Favourites</Link>    \r\n                    <LogoutBtn/>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport auth from '../../../Authentication';\r\nimport loader from '../../../assets/loader.gif';\r\n\r\nconst UploadForm = ({handleSubmit, handleFileChange, handleChange, url, isValid, loading}) => {\r\n    return(\r\n        <form className='upload-form' >\r\n        <input name='user' defaultValue={auth.user} hidden/>\r\n        <label className='file'>\r\n            <input\r\n            className='fileUpload' \r\n            type='file'\r\n            name='image'\r\n            accept='image/*'\r\n            onChange={handleFileChange}\r\n            />\r\n            <span className='file-custom'></span>                    \r\n        </label>\r\n\r\n        <div>\r\n            <div className='preview-img'><img src={url}  alt='sample-images'/></div>\r\n        </div>\r\n        \r\n        <div className={isValid ? 'valid' : 'invalid'}>\r\n            Something went wrong with the upload. Please try again.\r\n        </div>\r\n        \r\n        <input type='text' \r\n        name='tag' \r\n        placeholder='#tag' \r\n        onChange={handleChange}\r\n        required\r\n        />\r\n\r\n        <input type='text' \r\n        name='category' \r\n        placeholder='category' \r\n        onChange={handleChange}\r\n        required\r\n        />\r\n\r\n        <div className='upload-btn'>\r\n            <input id='btn' className='btn' type='submit' value='Upload' required onClick={(e) => {\r\n                handleSubmit(e);\r\n            }}/>\r\n            <div className={loading ? 'show': 'hide'}>\r\n                <img src={loader} alt='loader'/>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </form>  \r\n    )\r\n}\r\n\r\nexport default UploadForm;","import React, {Component} from 'react';\r\nimport UploadForm from './UploadForm';\r\nimport './Upload.scss';\r\n\r\n\r\nclass Upload extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            file: '',\r\n            url: '',\r\n            tag: '',\r\n            category:'',\r\n            isValid: true,\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    uploadFile = (file, signedRequest, url) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('PUT', signedRequest);\r\n        xhr.onreadystatechange = () => {\r\n          if(xhr.readyState === 4){\r\n            if(xhr.status === 200){\r\n                this.setState({\r\n                        url: url\r\n                    }, () => {\r\n                        this.props.addImage(this.state)\r\n                    }\r\n                )\r\n            }\r\n            else{\r\n              alert('Could not upload file.');\r\n            }\r\n          }\r\n        };\r\n        xhr.send(file);\r\n    }\r\n\r\n\r\n    getSignedRequest = (file) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', `https://stark-ridge-74307.herokuapp.com/sign-s3?file-name=${file.name.replace(/\\s/,'-')}&file-type=${file.type}`);\r\n        xhr.onreadystatechange = () => {\r\n          if(xhr.readyState === 4){\r\n            if(xhr.status === 200){\r\n                const response = JSON.parse(xhr.responseText);\r\n              this.uploadFile(file, response.signedRequest, response.url);\r\n            }\r\n            else{\r\n              alert('Could not get signed URL.');\r\n            }\r\n          }\r\n        };\r\n        xhr.send();\r\n    }\r\n\r\n    handleFileChange = (e) => {\r\n        //create fileReader instance\r\n        let reader = new FileReader();\r\n        //get file\r\n        let file = e.target.files[0];\r\n\r\n        reader.readAsDataURL(file);\r\n\r\n        reader.onloadend = () => {\r\n            this.setState({\r\n                file: file,\r\n                url: reader.result\r\n            })   \r\n        }\r\n    }  \r\n    \r\n\r\n    handleChange = (event) => {\r\n        const {name, value} = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        //prevent form from sending + refreshing page\r\n        e.preventDefault();\r\n        const {url, tag, category} = this.state;\r\n        \r\n        if(!url || !tag || !category){\r\n            this.setState({\r\n                isValid: false\r\n            })\r\n        }else{\r\n            this.setState({\r\n                isValid: true\r\n            })\r\n\r\n            this.getSignedRequest(this.state.file);\r\n\r\n            if(this.state.loading === false){\r\n                    this.setState({\r\n                        loading: true\r\n                    })\r\n            }else{\r\n                    this.setState({\r\n                        loading: false\r\n            })\r\n        }\r\n\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n\r\n            <div className='upload-page' onClick={this.props.handlePageClick}>\r\n            <h1>Upload An Image</h1>\r\n            <UploadForm handleSubmit={this.handleSubmit}\r\n             handleChange={this.handleChange}\r\n             handleFileChange={this.handleFileChange} \r\n             url={this.state.url} \r\n             isValid={this.state.isValid}\r\n             loading={this.state.loading}\r\n             />         \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Upload;","import React from 'react';\r\nimport './Images.scss';\r\n\r\nconst Images = ({initialImages, filteredImages, handlePageClick, handleOnImageClick}) => {\r\n    if(!filteredImages){\r\n        return(\r\n            \r\n            <div className='image-page' onClick={handlePageClick}>\r\n            <div className='images'>\r\n            {\r\n                initialImages.map((item, index) => {\r\n                        return(\r\n                            <div className='imageItem' key={index}>\r\n                            <img className='image' src={item.url} alt='' onClick={(e) => handleOnImageClick(e, item.name)} />\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            </div>\r\n        )\r\n    }else{\r\n        console.log(filteredImages);\r\n        return(\r\n            <div className='image-page'>\r\n            <div className='images'>\r\n            {\r\n                filteredImages.map((item, index) => {\r\n                        return(\r\n                            <div className='imageItem' key={index}>\r\n                            <img className='image' src={item.url} alt=''/>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Images;","import React from 'react';\r\nimport './Profile.scss';\r\nimport auth from '../../../Authentication';\r\nconst Profile = ({initialImages, deleteImage, handlePageClick}) => { \r\n    return(\r\n        <div className='profile-page' onClick={handlePageClick}>\r\n            <div className='box-1'>\r\n                <h1>Details</h1>\r\n                <div className='profile-card'>\r\n                    <h3>Id: {auth.user.id}</h3>\r\n                    <h3>Name: {auth.user.name}</h3>\r\n                    <h3>Email: {auth.user.email}</h3>                 \r\n                </div>\r\n            </div>\r\n\r\n            <div className='box-2'>\r\n            <h1>Your uploaded images</h1>\r\n                <div className='image-uploads'>\r\n                {\r\n                    initialImages.map(image => {\r\n                        if(image.name === auth.user.name){\r\n                            return (\r\n                                <div className='image-card' key={image.id}>\r\n                                    <img src={image.url} alt={image.tag} id={image.id}/>\r\n                                    <button className='delete-btn' onClick={() => deleteImage(image)}>Delete</button>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, {Component} from 'react';\r\nimport '../Home.scss';\r\n\r\n\r\nclass Favourites extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            images: []\r\n        }\r\n    }\r\n\r\n\r\n\r\n    removeImage = (e) => {\r\n        const imageUrl = e.target.previousElementSibling.src;\r\n        const newImageList = this.state.images.filter(item => {\r\n            return item !== imageUrl;\r\n        })\r\n        localStorage.setItem('favourites', JSON.stringify(newImageList));\r\n        \r\n        this.setState({\r\n            images: newImageList\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        const favouriteImages = JSON.parse(localStorage.getItem('favourites'));\r\n        this.setState({\r\n            images: favouriteImages\r\n        })\r\n    }\r\n\r\n    render(){\r\n\r\n        if(!this.state.images || this.state.images.length === 0){\r\n            return(\r\n                <div className='fav-page'>\r\n                    <h1 className='favourite-title'>You don't have any favourite pics!</h1>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div className='fav-page'>\r\n                <h1 className='favourite-title'>Favourites</h1>\r\n                    <div className='fav-images'>  \r\n                    {\r\n                        this.state.images.map((image, index) => {\r\n                            return(\r\n                                <div class='fav-image-card'>\r\n                                    <img key={index} src={image} alt='FavouriteImage'/>\r\n                                    <button className='remove-btn' onClick={this.removeImage}>Remove</button>\r\n                                </div>\r\n                                \r\n                            )\r\n                        })\r\n                    }  \r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default Favourites;","import React, {Component} from 'react';\r\nimport Navbar from './navbar/Navbar';\r\nimport Upload from './upload/Upload';\r\nimport Images from './images/Images';\r\nimport {Route} from 'react-router-dom';\r\nimport Profile from './profile/Profile';\r\nimport auth from '../../Authentication';\r\nimport './Home.scss';\r\nimport Favourites from './Favourites/Favourites';\r\n\r\nclass Home extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            initialImages: [],\r\n            filteredImages: null,\r\n            menu: false,\r\n            imageUploaded: false,\r\n            imageUrl: null,\r\n            imageAuthor: ''\r\n        }\r\n    }\r\n\r\n\r\n    addImage = (image) => {\r\n        fetch('https://stark-ridge-74307.herokuapp.com/upload', {\r\n            method: 'post',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                url: image.url,\r\n                tag: image.tag,\r\n                category: image.category,\r\n                id: auth.user.id\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if(data){\r\n                this.props.history.push('/home');\r\n\r\n                this.setState({\r\n                    imageUploaded: true\r\n                })\r\n\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        imageUploaded: false\r\n                    })\r\n                }, 5000);\r\n\r\n                this.getImages();\r\n            }else{\r\n                console.log(data);\r\n            }\r\n        }) \r\n    }\r\n\r\n    deleteImage = (image) => {\r\n        fetch('https://stark-ridge-74307.herokuapp.com/delete', {\r\n            method: 'post',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                id: image.id,\r\n                fileName: image.url.split('/')[3]\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .then(message => {\r\n            console.log(message);\r\n            this.getImages();\r\n        })\r\n    }\r\n\r\n    handleOnImageClick = (event, name) => {\r\n        this.setState({\r\n            imageUrl: event.target.src,\r\n            imageAuthor: name\r\n        })\r\n    }\r\n\r\n    handleCancelImage = (event) => {\r\n        const className = event.target.className\r\n\r\n        if(className === 'imageClicked' || className === 'cancel btn'){\r\n            this.setState({\r\n                imageUrl: null\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleSearch = (value) => {\r\n        if(value){\r\n            //return images with tags that match search value\r\n            fetch(`https://stark-ridge-74307.herokuapp.com/images/search?q=${value.toLowerCase()}`)\r\n            .then(response => response.json())\r\n            .then(images => {\r\n                this.setState({\r\n                    filteredImages: images\r\n                })\r\n            })  \r\n        }else{\r\n            this.setState({\r\n                filteredImages: null\r\n            })\r\n        }\r\n    }\r\n\r\n    handleMenuClick = () => {\r\n\r\n        this.setState(state => ({\r\n            menu: !state.menu\r\n        }))\r\n    }\r\n\r\n    handlePageClick = () => {\r\n        this.setState({\r\n            menu: false\r\n        })\r\n    }\r\n\r\n    saveToFavourites = () => {\r\n        const images = JSON.parse(localStorage.getItem('favourites'));\r\n\r\n        if(!images){\r\n            localStorage.setItem('favourites', JSON.stringify([this.state.imageUrl]));\r\n            this.props.history.push('/home/favourites')\r\n            this.setState({\r\n                imageUrl: null\r\n            })\r\n        }else{\r\n            const newImageList = images.concat(this.state.imageUrl);\r\n            localStorage.setItem('favourites', JSON.stringify(newImageList));\r\n            this.props.history.push('/home/favourites')\r\n            this.setState({\r\n                imageUrl: null\r\n            })\r\n        }\r\n    }\r\n\r\n    reload = () => {\r\n       this.setState({\r\n        filteredImages: null\r\n       })\r\n    }\r\n\r\n\r\n\r\n    getImages = () => {\r\n        fetch('https://stark-ridge-74307.herokuapp.com/images')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({\r\n                initialImages: [...data]\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        //fetch images and store in state when mounts\r\n        this.getImages();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className='home-page'>\r\n            \r\n            <Navbar handleSearch={this.handleSearch}\r\n             reload={this.reload}\r\n             handleMenuClick={this.handleMenuClick}\r\n             menu={this.state.menu}/>   \r\n\r\n             \r\n            <Route exact path='/home' render={() => \r\n            <Images initialImages={this.state.initialImages}\r\n             filteredImages={this.state.filteredImages}  \r\n             handlePageClick={this.handlePageClick} \r\n             handleOnImageClick={this.handleOnImageClick}/>\r\n             }/>\r\n\r\n            <Route path='/home/upload' render={() =>\r\n             <Upload addImage={this.addImage} handlePageClick={this.handlePageClick}/>\r\n             }/>\r\n\r\n            <Route path='/home/profile' render={() => \r\n            <Profile initialImages={this.state.initialImages} deleteImage={this.deleteImage} handlePageClick={this.handlePageClick}/>\r\n            }/>\r\n            <div onClick={this.handleCancelImage} className={this.state.imageUrl ? 'imageClicked' : 'hide'}>\r\n            <div className='image-grp'>\r\n                <div className='image-container'>\r\n                <img className='image-display' src={this.state.imageUrl} alt='img'/>\r\n                <span className='author'>Uploaded by {this.state.imageAuthor}</span>\r\n                </div>\r\n                <div className='btn-grp'>\r\n                    <button className='btn' onClick={this.saveToFavourites}>Add To Favourites</button>\r\n                    <button className='cancel btn' onClick={this.handleCancelImage}>Cancel</button>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <Route path='/home/favourites' component={Favourites}/>\r\n                <span className={this.state.imageUploaded? 'uploaded': 'hide'}>Uploaded!</span>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport '../Signin/Signin.scss';\r\nimport auth from '../../Authentication';\r\n\r\nclass Signin extends Component{\r\n    constructor(props){\r\n        super(props);\r\n    \r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            isValid: true // controls simple input validation\r\n        }\r\n    }\r\n    \r\n    \r\n    handleOnChange = (event) => {\r\n    //watch changes for both input fields\r\n    const {name, value} = event.target;\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n    }\r\n\r\n    handleKeyPress = (e) => {\r\n        if(e.key === 'Enter'){\r\n            this.handleOnLogin();\r\n        }\r\n    }\r\n    \r\n    handleOnLogin = () => {\r\n    const{email, password} = this.state;\r\n\r\n    if(!email || !password){\r\n        this.setState({\r\n            isValid:false\r\n        })\r\n    }\r\n    else{\r\n        //login is a thenable method because it returns a promise\r\n        auth.login(email, password)\r\n        .then(() => {\r\n            //so use a callback to execute the route push\r\n            if(auth.authenticated){\r\n                this.props.history.push('/home');\r\n            }else{\r\n                this.setState({\r\n                    isValid:false\r\n                })\r\n            }\r\n        })\r\n    }\r\n    }\r\n\r\n    render(){ \r\n        return(\r\n            <div>\r\n                <div className='sign-in'>\r\n                \r\n                <div className='form-wrapper'>\r\n                    <div>\r\n                        <h1 className='depik'>Depikt.</h1>\r\n                        <h3>Share your ideas</h3>\r\n                    </div>\r\n\r\n                    <div className={this.state.isValid? 'valid': 'invalid'}>\r\n                        Your email or password is invalid\r\n                    </div>\r\n                        \r\n                    <div className='signin-form' onKeyPress={this.handleKeyPress}>\r\n                        <input \r\n                        type='email'\r\n                        placeholder='email'\r\n                        onChange={this.handleOnChange}\r\n                        name='email'\r\n                        />\r\n                        <input \r\n                        type='password' \r\n                        placeholder='password'\r\n                        onChange={this.handleOnChange}\r\n                        name='password'\r\n                        />\r\n                        <button \r\n                        className='btn' \r\n                        type='button'\r\n                        onClick={this.handleOnLogin}\r\n                        >Log in</button>\r\n                        <p>OR</p>\r\n                    {/*  <button className='btn' type='button'>Continue With Facebook</button> */}\r\n                    </div>\r\n                    \r\n                    Dont have an account?<Link to='/register'>Register</Link>\r\n                </div>\r\n            \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signin;","import React, {Component} from 'react';\r\nimport '../Register/Register.scss';\r\nimport {Link} from 'react-router-dom';\r\nimport auth from '../../Authentication';\r\n\r\nclass Register extends Component{\r\n    constructor(props){\r\n        super(props);\r\n    \r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            isValid: true\r\n        }\r\n    }\r\n    \r\n    \r\n    handleOnChange = (event) => {\r\n    const {name, value} = event.target;\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n    }\r\n    \r\n    handleOnRegister = () => {\r\n        const{name, email, password} = this.state;\r\n\r\n        if(name || email || password){\r\n            \r\n            if(this.validateEmail(email)){\r\n                auth.register(name, email, password)\r\n                .then(() => {\r\n                    console.log('props');\r\n                    this.props.history.push('./home');\r\n                })\r\n            }\r\n            else{\r\n                this.setState({\r\n                    isValid:false\r\n                })\r\n            }\r\n        }else{\r\n            this.setState({\r\n                isValid: false\r\n            })\r\n        }\r\n    }\r\n\r\n    validateEmail = (email) => {\r\n        //use regex - regular expression to test valid emails\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n     <div className='sign-in'>\r\n        \r\n        <div className='form-wrapper'>\r\n            <div>\r\n                <h1 className='depik'>Depikt.</h1>\r\n                <h3>Share your ideas</h3>\r\n            </div>\r\n\r\n            <div className={this.state.isValid? 'valid': 'invalid'}>\r\n                    Please fill in all fields correctly\r\n            </div>\r\n                \r\n            <form className='register-form'>\r\n                <input type='text'\r\n                 placeholder='name' \r\n                 name='name' \r\n                 onChange={this.handleOnChange}/>\r\n\r\n                <input type='email'\r\n                 placeholder='email'\r\n                 name='email' \r\n                 onChange={this.handleOnChange}/>\r\n\r\n                <input type='password' \r\n                 placeholder='password'\r\n                 name='password' \r\n                 onChange={this.handleOnChange}/>\r\n\r\n                <button className='btn' type='button' onClick={this.handleOnRegister}>Register</button>\r\n                <p>OR</p>\r\n                {/* <button className='btn' type='button'>Continue With Facebook</button> */}\r\n            </form>\r\n    \r\n            Already a member?<Link to='/'>Log in</Link>\r\n        </div>\r\n    \r\n        </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport Home from './components/home/Home';\r\nimport Signin from './components/Signin/Signin';\r\nimport Register from './components/Register/Register';\r\nimport {Switch, Route} from 'react-router-dom';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n        <Switch> {/* switch returns the component only when the path matches*/}\r\n          <Route exact path='/' component={Signin}/> {/*route defines the component to render */}\r\n          <Route path='/register' component={Register}/>\r\n          <ProtectedRoute path='/home' component={Home}/>\r\n          <Route path='*' component={() => '404 Not Found'}/>\r\n        </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\nReactDOM.render(<Router basename='/depikt'><App /></Router>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}